(()=>{"use strict";const t=document.getElementById("content"),e=document.forms[0];e.addEventListener("submit",(async n=>{n.preventDefault();const o=document.getElementById("city").value;!function(t){if(document.querySelector("#loading"))return null;const e=document.createElement("img");e.src="https://i.gifer.com/ZZ5H.gif",e.id="loading",t.appendChild(e)}(t);try{!function(t,e){const n=document.createElement("p");n.textContent=`${t.city}, ${t.country}`,n.setAttribute("id","location");const o=document.createElement("p");o.setAttribute("id","temp"),o.textContent=`${t.temp}°C`;const c=document.createElement("div");c.setAttribute("id","weatherInfo"),c.innerHTML=`\n  <img src='https://openweathermap.org/img/wn/${t.weather.icon}@2x.png'>\n  <p>${t.weather.description}</p>\n  `,e.innerHTML="",e.appendChild(n),e.appendChild(o),e.appendChild(c),function(t){const e=document.createElement("button");e.classList="btn btn-success",e.textContent="Convert to Fahrenheit",e.addEventListener("click",(()=>{const t=document.querySelector("#temp"),n=Number(t.textContent.slice(0,-2));var o;"C"===t.textContent.slice(-1)?(t.textContent=`${o=n,Math.round(1.8*o+32)}°F`,e.textContent="Convert to Celsius"):(t.textContent=`${function(t){return Math.round((t-32)/1.8)}(n)}°C`,e.textContent="Convert to Fahrenheit")})),t.appendChild(e)}(e)}(await async function(t,e){const n=await async function(t,e){const n=`https://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=${e}`,o=await fetch(n);return await o.json()}(t,e);return{temp:Math.round(n.main.temp-273.15),city:n.name,country:n.sys.country,weather:{icon:n.weather[0].icon,description:n.weather[0].description}}}(o,"3f4751a98d27d8f410e99e9589eaf508"),t),e.reset()}catch(e){!function(t){t.innerHTML="<p>Please input a valid city.</p>"}(t)}}))})();